(this["webpackJsonpsofar-test"]=this["webpackJsonpsofar-test"]||[]).push([[0],{18:function(e,n,t){e.exports=t(31)},23:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(10),l=t.n(i),o=(t(23),t(4)),u=t.n(o),c=t(5),s=t(3),m=t(1),d=t(2);function f(){var e=Object(m.a)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 16px;\n"]);return f=function(){return e},e}var h=d.a.div(f()),v=t(13),p=t.n(v);function b(){var e=Object(m.a)(["\n  padding: 12px 0;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  text-align: left;\n\n  .label {\n    flex-grow: 1;\n  }\n\n  .units {\n    width: 100px;\n  }\n\n  input {\n    height: 24px;\n    font-size: 16px;\n    width: 100px;\n    border: 2px solid #000;\n    margin: 0 12px;\n    text-align: right;\n  }\n"]);return b=function(){return e},e}var g=d.a.div(b()),E=function(e){return r.a.createElement(g,null,r.a.createElement("div",{className:"label"},e.label),r.a.createElement("input",{type:"number",value:e.value||0===e.value?e.value:"",onChange:function(n){return e.valueChanged(parseInt(n.currentTarget.value))}}),r.a.createElement("div",{className:"units"},"(in ",e.units,")"))},x=t(15),w=function(e,n){return Math.ceil(e/(n||1))};function j(){var e=Object(m.a)(["\n  background-color: #eee;\n  padding: 20px;\n\n  .interest-rate {\n    width: 330px;\n  }\n\n  .quote-table {\n    margin-top: 20px;\n    background-color: #fff;\n    border: ","\n    border-collapse: collapse;\n    font-weight: bold;\n\n    th, td {\n      padding: 6px;\n    }\n\n    th {\n      background-color: #dadada;\n    }\n\n    tr:nth-child(odd) {background: #eee}\n    tr:nth-child(even) {background: #fff}\n\n    th:not(:last-child), td:not(:last-child) {\n      border-right: ","\n    }\n  }\n\n  .credit-type {\n    text-align: center;\n    font-weight: normal;\n  }\n"]);return j=function(){return e},e}var O=d.a.div(j(),"2px solid #000","2px solid #000"),y=function(e){var n=Object(a.useState)(3),t=Object(s.a)(n,2),i=t[0],l=t[1],o=Object(a.useState)([]),u=Object(s.a)(o,2),c=u[0],m=u[1],d=Object(a.useState)(!1),f=Object(s.a)(d,2),h=f[0],v=f[1],b={amount:e.amount,months:e.months,interestRatePercent:0,isBusinessLoan:e.isBusinessCredit};Object(a.useEffect)((function(){void 0!==i&&e.amount&&e.months&&(b.interestRatePercent=i,m(function(e){var n=e.amount,t=w(e.amount,e.months);return Object(x.a)(new Array(e.months)).map((function(a,r){var i=Math.ceil(e.interestRatePercent/100*n);return 0===r&&e.isBusinessLoan&&(i+=1e3),n-=t,i}))}(b)),v(function(e,n){if(!n)return!0;var t=e.isBusinessLoan?"businessLoan":"revolvingCreditFacility";return n[t].amountMax>=e.amount&&n[t].amountMin<=e.amount&&n[t].durationMax>=e.months&&n[t].durationMin<=e.months}(b,e.creditConstraints)))}),[i,e.amount,e.months,e.creditConstraints]);var g=w(e.amount,e.months),j=c.reduce((function(e,n){return e+n}),0);return r.a.createElement(O,null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"interest-rate center-within-parent"},r.a.createElement(E,{label:"Interest rate",units:"%",value:i,valueChanged:l})),r.a.createElement("table",{className:"quote-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Repayment date"),r.a.createElement("th",null,"Principal"),r.a.createElement("th",null,"Interest"),r.a.createElement("th",null,"Total repayment"))),e.amount&&e.months&&i?r.a.createElement("tbody",null,c.map((function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,p()().add(n+1,"M").format("DD/MM/YYYY")),r.a.createElement("td",null,"\xa3",g),r.a.createElement("td",null,"\xa3",e),r.a.createElement("td",null,"\xa3",g+e))})),r.a.createElement("tr",null,r.a.createElement("td",null,"Total"),r.a.createElement("td",null,"\xa3",e.amount),r.a.createElement("td",null,"\xa3",j),r.a.createElement("td",null,"\xa3",e.amount+j))):null)):function(e,n){var t=e.isBusinessLoan?"businessLoan":"revolvingCreditFacility";return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"This credit is not allowed for your selected options.")),r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",null,"Please select something within these limits: ",r.a.createElement("pre",null,JSON.stringify(n[t],null,4))):null))}(b,e.creditConstraints),r.a.createElement("h2",{className:"credit-type"},e.isBusinessCredit?"Business Loan":"Revolving Credit Facility"))};var _=t(14),C=function(e){return new Promise((function(n){fetch(e).then((function(e){return e.json()})).then((function(e){n(e)}))}))},M=function e(){Object(_.a)(this,e)};function k(){var e=Object(m.a)(["\n  text-align: left;\n"]);return k=function(){return e},e}function N(){var e=Object(m.a)(["\n  .credit-params-section {\n    margin-bottom: 40px;\n  }\n\n  .loan-calculators {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 40px;\n\n    @media (max-width: 1000px) {\n      grid-template-columns: 1fr;\n      grid-row-gap: 30px;\n    }\n  }\n"]);return N=function(){return e},e}M.get=Object(c.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("https://www.mocky.io/v2/5d4aa9e93300006f000f5ea9");case 2:return n=e.sent,e.abrupt("return",{revolvingCreditFacility:{amountMin:n.revolving_credit_facility.amount_min,amountMax:n.revolving_credit_facility.amount_max,durationMin:n.revolving_credit_facility.duration_min,durationMax:n.revolving_credit_facility.duration_max},businessLoan:{amountMin:n.business_loan.amount_min,amountMax:n.business_loan.amount_max,durationMin:n.business_loan.duration_min,durationMax:n.business_loan.duration_max}});case 4:case"end":return e.stop()}}),e)})));var B=d.a.div(N()),L=d.a.h1(k()),S=function(){var e=Object(a.useState)(1e4),n=Object(s.a)(e,2),t=n[0],i=n[1],l=Object(a.useState)(4),o=Object(s.a)(l,2),m=o[0],d=o[1],f=Object(a.useState)(),v=Object(s.a)(f,2),p=v[0],b=v[1];return Object(a.useEffect)((function(){Object(c.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get();case 2:n=e.sent,b(n);case 4:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(B,null,r.a.createElement(h,null,r.a.createElement(L,null,"Your loan"),r.a.createElement("div",{className:"credit-params-section"},r.a.createElement("div",{className:"center-within-parent"},r.a.createElement(E,{label:"Amount requested",units:"\xa3",value:t,valueChanged:i}),r.a.createElement(E,{label:"Duration",units:"months",value:m,valueChanged:d}))),r.a.createElement("div",{className:"center-within-parent"},r.a.createElement("div",{className:"loan-calculators"},r.a.createElement(y,{amount:t,months:m,creditConstraints:p}),r.a.createElement(y,{amount:t,months:m,creditConstraints:p,isBusinessCredit:!0})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.0e3e94f4.chunk.js.map